# Install minimal gnome
sudo apt install --yes --no-install-recommends gnome-core

# Install apps
sudo apt-get install --show-progress --yes \
    awscli \
    cheese \
    cups \
    curl \
    clojure \
    dconf-editor \
    file-roller \
    foliate \
    gnome-clocks \
    gnome-epub-thumbnailer \
    gnome-shell-extension-manager \
    gnome-shell-extensions \
    gnome-shell-extensions-extra \
    gnome-firmware \
    gnome-power-manager \
    gnome-software-plugin-snap \
    gnome-sound-recorder \
    gnome-tweaks \
    git \
    libproxy1-plugin-networkmanager \
    low-memory-monitor \
    nautilus-share \
    neofetch \
    neovim \
    network-manager-gnome \
    network-manager-config-connectivity-debian \
    network-manager-openconnect-gnome \
    network-manager-openvpn-gnome \
    network-manager-ssh-gnome \
    network-manager-vpnc-gnome \
    nodejs \
    ooo-thumbnailer \
    pdfarranger \
    plymouth-themes \
    printer-driver-cups-pdf \
    snapd \
    shotwell \
    smbclient \
    ssh-askpass-gnome \
    synaptic \
    task-laptop \
    unattended-upgrades \
    wireguard \
    virt-manager \
    qemu-system-x86 \
    qemu-utils \
    libvirt-daemon-system

# Install nvidia driver for GTX 1650
sudo apt install nvidia-driver

# Fix network on gnome
sudo rm /etc/network/interfaces 

# Install snaps
sudo snap install core
sudo snap install firefox vlc dbeaver-ce spotify slack libreoffice amz-workspaces
sudo snap install code --classic 

# Install docker
sudo apt-get update && \
    sudo apt-get install ca-certificates && \
    sudo install -m 0755 -d /etc/apt/keyrings && \
    sudo curl -fsSL https://download.docker.com/linux/debian/gpg -o /etc/apt/keyrings/docker.asc && \
    sudo chmod a+r /etc/apt/keyrings/docker.asc

echo \
  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/debian \
  bookworm stable" | \
  sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

sudo apt-get update && \
    sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin -y

sudo groupadd docker \
    sudo usermod -aG docker $USER

# Install dotnet
wget https://packages.microsoft.com/config/debian/12/packages-microsoft-prod.deb -O packages-microsoft-prod.deb \
    sudo dpkg -i packages-microsoft-prod.deb \
    rm packages-microsoft-prod.deb

sudo apt-get update && \
  sudo apt-get install -y dotnet-sdk-8.0 dotnet-sdk-6.0